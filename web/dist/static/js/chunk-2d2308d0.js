(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2308d0"],{ed83:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Card",{staticStyle:{"margin-top":"2%"}},[o("p",{attrs:{slot:"title"},slot:"title"},[e._v("修改学生信息")]),o("i-form",{ref:"modify_form",staticStyle:{"margin-left":"20px"},attrs:{model:e.info,rules:e.rule}},[o("form-item",{attrs:{label:"用户名",prop:"username"}},[o("i-input",{attrs:{size:"large",placeholder:"输入新的用户名"},model:{value:e.info.username,callback:function(t){e.$set(e.info,"username",t)},expression:"info.username"}})],1),o("form-item",{attrs:{label:"手机号",prop:"phone"}},[o("i-input",{attrs:{size:"large",placeholder:"输入新的手机号"},model:{value:e.info.phone,callback:function(t){e.$set(e.info,"phone",t)},expression:"info.phone"}})],1),o("form-item",{attrs:{label:"用户组",prop:"group"}},[o("i-select",{model:{value:e.info.group,callback:function(t){e.$set(e.info,"group",t)},expression:"info.group"}},e._l(e.group_list,function(e){return o("i-option",{attrs:{value:e.value,label:e.label}})}),1)],1),o("form-item",[o("i-button",{staticStyle:{width:"120px"},attrs:{size:"large",type:"primary"},on:{click:e.modify_student}},[e._v("确认修改")])],1)],1)],1),o("modal",{attrs:{title:"提示"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[o("p",{domProps:{textContent:e._s(e.alert_info)}})])],1)},a=[],i={name:"modify_student",data:function(){return{info:{username:"",phone:"",group:""},rule:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],phone:[{type:"string",min:11,max:11,message:"手机号长度不正确",trigger:"blur"}]},group_list:[{value:0,label:"管理员"},{value:1,label:"学生"}],modal:!1,alert_info:""}},methods:{modify_student:function(){var e=this;this.$refs["modify_form"].validate(function(t){if(t){var o={token:e.$Cookies.get("token"),snum:e.info.Snum,username:e.info.username,phone:e.info.phone,group:e.info.group};e.$api.account.admin_modify_info(o).then(function(t){1===t.data.code?e.$router.back():0===t.data.code?(e.alert_info="您不是管理员，无法修改",e.modal=!0):-1===t.data.code?(e.alert_info="用户名重复",e.modal=!0):-2===t.data.code&&(e.alert_info="修改失败，请重试",e.modal=!0)})}})}},mounted:function(){this.info=this.$route.query.info}},r=i,l=o("17cc"),s=Object(l["a"])(r,n,a,!1,null,null,null);t["default"]=s.exports}}]);